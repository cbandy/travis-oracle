language: generic
sudo: required

env:
  global:
    - ORACLE_COOKIE=sqldev
    - ORACLE_FILE=oracle11g/xe/oracle-xe-11.2.0-1.0.x86_64.rpm.zip
    - ORACLE_HOME=/u01/app/oracle/product/11.2.0/xe
    - ORACLE_SID=XE

addons:
  apt:
    packages:
      - shunit2

matrix:
  include:
    - env: DIST=precise
      dist: precise
    - env: DIST=trusty
      dist: trusty
    - env: APT_ADDON=1 DIST=trusty
      dist: trusty
      addons:
        apt:
          packages:
            - libaio1
            - rpm
            - shunit2

  allow_failures:
    - env: DIST=precise
      dist: precise

before_install:
  - ./download.sh
  - ./install.sh

install: make setup
script: make test-all
